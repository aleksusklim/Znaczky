### Znaczek #3:

Вот когда однажды понадобилось мне собрать ОДИН список своих игр – я его собрал. Но это было сделано слишком поздно, а чтобы дополнить его всеми описаниями, которые я когда-либо к ним писал – вышло бы значительно дольше и скучнее.

Это у нас-то всегда раскопки хоть и долгие – но конечные. А мне, чтобы на самом деле найти что-то, что я когда либо кому-то писал – это перебирать все документы, все письма электронной почты, все мессенджеры и диалоги в социальных сетях. Я же никогда не собираю ничего в формате, удобном для поиска или экспорта (и кстати, предыдущие два поста к приведению в такой формат дались мне далеко не без труда).

В общем, дальнейшее содержимое не полное как по количеству (тут не всё), так и качеству (описаний могло быть больше), и ещё и собрано из различных мест, но тем не менее, я публикую его.[hr]

<http://klimaleksus.narod.ru/Files/smt/LightsOnCube1V1.rar>  
– это, конечно, самое-самое лучшее, но да, можете даже не пытаться.

<http://klimaleksus.narod.ru/Files/4/TunnelDriver1V2.rar>

<http://klimaleksus.narod.ru/Files/4/TunnelFlyer1V1.rar>

<http://klimaleksus.narod.ru/Files/4/Fountains1V4.rar>

<http://klimaleksus.narod.ru/Files/smt/WaterTower1V0.rar>

<http://klimaleksus.narod.ru/Files/4/FoxPing1V1.rar>

> {{{
> 
> В этой игре нужно выискивать цели мышкой, основываясь на расстоянии до ближайшей из них от текущего положения мыши. Управление – только перемещением указателя, кликать нужно только для паузы и старта игры.
> 
> В каждом уровне цели расставляются случайно, и они не видны. Пеленгация происходит автоматически, примерно раз в две секунды. Чем ближе цвет волны к красному, и чем меньше общий радиус – тем ближе цель.
> 
> По мере распространения волны в кругу шариков на миг возникает цельная полоса, и она наиболее яркая в тот момент, когда радиус как раз равен расстоянию до ближайшей цели (относительно центра испускания).
> 
> Если волна выпущена в достаточно маленьком радиусе от цели – это считается попаданием, и закрашивается кружком. После поражения всех целей на уровне, игра переходит на следующий, в котором на одну цель больше.
> 
> Количество снарядов (=время) ограничивается в зависимости от числа целей (=уровень), если патроны закончатся – игру придётся начинать с самого начала. В качестве рекордов ведётся статистика максимального достигнутого уровня и минимального количества использованных снарядов на каждом из них.
> 
> Игра вполне проходима, если понимать стратегию. Вообще говоря, математически возможно ловить одиночную цель всего за четыре хода, ведь расстояния от трёх различных точек даёт однозначное её расположение. Но со схожими яркостями цветов и многими целями – задача становится не такой тривиальной!
> 
> }}}

Вот хорошая вещь – ремейк вот этой DOS игры: <http://klimaleksus.narod.ru/Files/3/Chopduel.zip>  
Моя версия –  
<http://klimaleksus.narod.ru/Files/3/chopduel1V1d.rar>  
Тоже для двух игроков. Сетевого режима, как и встроенного редактора уровней, нет. Хотя должны быть.

Это программа-помощник для создания японских кроссвордов. В нее встроен решатель, позволяющий убедиться, что кроссворд точно решается без «предположений»:  
<http://klimaleksus.narod.ru/Files/3/JapMaker.rar>

Вот интересная задумка:  
<http://klimaleksus.narod.ru/Files/4/key_b.rar>  
> Обрывки описания:  
> {{{  
> Короче, ты – красный, вправо-влево-вверх-вниз.  
> Ушёл за экран = проигрыш.  
> Синие – враги, коснулся = проигрыш.  
> Всё поле – клавиши на клавиатуре, 123,… WER… ASD… ZXC.  
> Розовые кружки по бокам – это два шифта и два контрола.  
> Зажал ОДНУ кнопку и контрол/шифт – стрельнул ТУДА заряд из  
> соответствующей пушки (заряд осколочный).  
> Зажал ДВЕ кнопки и нажал пробел или энтер (что сработает) – пустил два  
> снаряда между ними (если пересекутся, будет осколочный).  
> Зажал ТРИ кнопки – запустил генерацию взрывной волны, которая если  
> скастуется, то почти полполя зачистит.  
> Снаряды могут убить себя и убивают всех врагов.  
> НО! использованные пушки надо перезарядить, иначе из них более нельзя пальнуть.  
> Двойные и тройные также требуют перезарядки – для этого нужно  
> КОСНУТЬСЯ их своим красным шаром.  
> Цель – выжить как можно дольше и завалить всех синих!  
> Каждый выживший и убежавший синий снимает один восклицательный знак из  
> заголовка окна, а их количество отображает время до следующего  
> появления нового синего, так что…  
> (кстати, во многих играх в качестве паузы можно использовать F1).  
> Из «key» надо попробовать мультиплеер кооператив сделать.  
> \> "ко-оп режим: пушки дамажат по синим и себе, но не бьют союзника"  
> – Я думал только управление рапараллелить, но не персонажа. Хотя… ИДЕЯ!! ))  
> }}}

О, а вот моё пианино на GML:  
<http://klimaleksus.narod.ru/Files/4/rp.rar>  
Правда, я туда подключил перехват windows-messages через Delphi, чтобы получить абсолютную отзывчивость на события ввода. Высокой ценой, правда.  
Да и программа получилась какая-то бесперспективная из-за этого.

Вот моя реализация Пэкмена (эх, надо было сделать с пони…); иногда глючит, но в целом очень канонична:  
<http://klimaleksus.narod.ru/Files/4/pac.rar>  
Я делал почти всё в соответствии вот с этой статьёй:  
<http://www.gamasutra.com/view/feature/132330/the_pacman_dossier.php>  
Правда он получился какой-то «мягкий», особенно в сравнении с эмуляцией оригинала.

А вот ещё одна незаконченная 3D-игра:  
<http://klimaleksus.narod.ru/Files/4/ih.rar>  
Уровень – болванка. Один враг, цели нет. Можно бежать и прыгать, приседать. Кстати, если выбросить «свет» и присесть, то враг отвлечётся на него, если не «видел» куда пошёл игрок.  
Там вообще у врага два режима (их переключение можно увидеть, нажав Z для дебаг-вида) – поиска и погони. В первом он стандартными средствами GML вычисляет пусть к игроку по секте лабиринта, а во втором, когда игрок окажется его поле зрения – движется к нему в лоб, огибая препятствия тоже стандартными средствами.  
Насчёт этой игры у меня было даже больше идей, но я её что-то забросил…  

О, вот математическая игра:  
<http://klimaleksus.narod.ru/Files/4/la.rar>  
Нужно визуально подбирать значения переменных в систему линейных уравнений без видимых коэффициентов.  

А в этой – бороться с врагами, решая простые математические примеры при получении урона:  
<http://klimaleksus.narod.ru/Files/4/eq.rar>  

Скрипт, принимающий текст и анализирующий повторяющиеся слова, подсвечивая их в зависимости от количества повтором и числа слов в группе:  
<http://klimaleksus.narod.ru/Files/4/highlight_text_compare2.htm>

Вот игра-тренировка, где нужно запоминать последовательность чисел:  
<http://klimaleksus.narod.ru/Files/C/External_12.rar>  
Говорят, нужно исправить режим проверки ответов, чтобы был вариант «пропустить», а не перебирать забытый, чтобы не забыть в это время оставшиеся далее.  

Вот программа для микширования двух схожих музыкальных треков, чтобы пустить их параллельно, но с разной громкостью:  
<http://klimaleksus.narod.ru/Files/F/c2t.rar>  
Такое воспроизведение используется как эффект в некоторых играх. Например можно взять пары из FTL:  
<http://klimaleksus.narod.ru/Files/F/CivilBATTLE.mp3>  
<http://klimaleksus.narod.ru/Files/F/CivilEXPLORE.mp3>  
<http://klimaleksus.narod.ru/Files/F/MantisBATTLE.mp3>  
<http://klimaleksus.narod.ru/Files/F/MantisEXPLORE.mp3>  
<http://klimaleksus.narod.ru/Files/F/RockmenBATTLE.mp3>  
<http://klimaleksus.narod.ru/Files/F/RockmenEXPLORE.mp3>  
Правда, Game Maker принимает .wav, так что кинул туда lame.exe, сконвертировать можно, перетащив каждый mp3 на wave.bat

Вот украденная идея игры, где мышью нужно щёлкать по правильным кружкам:  
<http://klimaleksus.narod.ru/Files/P/scull_1.rar>  
Нужно тыкать в те, цвет которых совпадает с цветом фона в данный момент. Можно прочерчивать без отрыва. При первом касании остальные меняют цвета. Но инверсный цвет рамки остаётся, по нему всё ещё можно отличить нужные.  
А на самом деле, игра сетевая! Для запуска сервера достаточно передать любой аргумент при старте, или перетащить на бинарник любой файл, да хоть её же исходник.  
Подключение по IP к серверу – кнопка S. Старт игры на сервере (только отдельным процессом) – пробел в его окне.  
Определение победителя довольно чёткое, с учётом пинга до клиентов, однако с полным доверием к ним (т.е подаётся взлому). Жаль, нет адекватного управления пирами, как и таблицы рекордов.  

Вот редактор картинок для использования в играх на ZX Spectrum:  
<http://klimaleksus.narod.ru/Files/S/sinc2.rar>  
(своей цели – MLP2048 – я так и не достиг, но и не отверг её)  
Особенность в том, что поле делится на квадраты 8*8, каждый пиксель которых может иметь либо цвет фона, либо цвет тона. Но эти цвета (коих всего восемь) задаются для каждого квадрата, а не пикселя, из-за чего придётся умело располагать рисунок по четким границам между квадратами.

А ещё я некоторое время в институте преподавал уроки разработки игр на Game Maker, и поэтому у меня появилось несколько концептов, не все из которых стали полноценными играми (но фонтанчики, туннель-драйвер и даже моя охота на лис – именно из этой серии), а так и остались концептами.

Я тут пособирал всё (и не только) отдельно без бинарников в архивчик:  
<http://klimaleksus.narod.ru/Files/4/concepts.rar>  
Имена двухбуквенные (они недостойны большего), везде ниже, где вместо ссылки написано [xx] в квадратных скобках – это одна из папок этого архива. Хотя иногда что-то выложено и по ссылкам отдельно.  
Для открытия – вот сама среда без ресурсов: <http://klimaleksus.narod.ru/Files/S/GML.rar>

[de]  
– воссоздание механики игры «Dark Echo». В оригинале персонаж создаёт звуки во тьме, которые визуально вырисовываются и отражаются от стен.  
Можно идти, удерживая мышь в стороне, красться путём быстрого нажатия, бросать камень правой кнопкой, а ещё совершать хлопок, удерживая мышь на самом персонаже.  

[ml]  
– это типа битва на двоих. Управление почти как в моём chopduel, но упор был сделан на векторное отталкивание от краёв экрана, соперника и от этой хреновины в центре.  
Основного игрового процесса нет.

[ff]  
– концепт основной механики камер первых Five Nights at Freddy’s. Зелёное – игрок. Голубое – текущий вид из камеры. Ну жёлтое – подсветка. Синий – игрок, красные – враги; время, конечно, ускорено.  
Левый клик – включить нужную камеру. Клик по игроку или правый щелчок в любом месте – закрыть камеру и перейти на игрока.  
Мышкой можно закрывать двери вокруг себя, но только одну одновременно. Враги движутся тупо по рандому.  
Персонаж игрока передвигается нажатием стрелок, но только если камера закрыта.  
А фишка в том, что если враг попадает на камеру – то он должен на неё остаться до тех пор, пока камера с него не уёдет. Если игрок входит в комнату с врагом – проигрыш сходу.  
Но если камера закрыта, то враг не может войти к игроку, и будет бесконечно ждать в следующей комнате, если выбрал целью хода текущую. А если же камера открыта, и не на этом враге – то он прыгает в комнату к игроку, но игра не закончился до тех пор, пока камера не будет закрыта.  
Всё это типа для того, чтобы скриммер вылетал только на отклик от действия пользователя…  

[ab]  
– демонстрация того, как например можно сделать быстрое отталкивание шарика от поверхности произвольной формы: считаем по кругу, есть ли пересечения некоторых точек, и выбираем противолежащий вектор. И складываем их… Правда я с коэффициентом прибавки к скорости не разобрался, но управление на стрелках, а добавление стены – правый щелчок.  

[gw]  
– какая-то битва с боссом, мы собирали разные варианты его снарядов, чуть ли не Touhou вышло. One-hit-death, почти непроходимо.  
А ещё можно через Ctrl оставить бомбочку, которая может убить врага, если её заденет его снаряд.  
Вторая версия – чья-то модификация в стиле андертейла, там атака уже на Shift.  

[gn]  
– псевдо 3D, тут надо мышкой сбивать летающие тарелки и уклоняться от астероидов…  

[pt]  
– PianoTiles? Управление на F-G-H, жизни в заголовке.  
Абсолютно непроходимо.  

[rn]  
– вот это чёткая штука. Простой бегунок, с замедлением и ускорением, а также регулируемой высотой прыжка.  
Не то что мой SpyroRunner, это играть можно бесконечно, и не проигрывать. Перезапуск на пробел.

<http://klimaleksus.narod.ru/Files/4/robot.rar>  
– Вот учебный исполнитель «робот», по аналогии с паскальским из PascalABC ( <http://klimaleksus.narod.ru/Files/PABCDistr.zip> ). Несколько заданий приложены, одно с решением.  
Можно либо всё прописывать в самом исходнике в среде, либо же перетаскивать решения в текстовых документах на бинарник.  
Само задание тоже можно перетащить, чтобы посмотреть его.  
Enter – перезагрузка текущего задания (некоторые слегка рандомные).  
Хорошо бы сделать новую версию, более багоустойчивую (но нет, я не собираюсь опять gml вручную парсить!..) и с нормальным описанием функционала.  

А ведь у меня тоже полно и своих концептов!  
Вот например какая-то одна хромая реализация квадродерева:  
[qu]  
Мышкой можно рисовать и убирать дырки. А ещё в архив я положил какую-то флеш-презентацию про квадродеревья (если я не ошибаюсь, она уже удалена со странички разработчика).  

К слову о параспрайтах:  
[ft]  
Цели нет, но можно полетать. Хотелось сделать игру, в которой игрок летает в конце игры лучше чем в самом начале отнюдь не потому, что его персонажу чего-то там прокачали, а лишь из-за прокачки собственного скила тыканья по кнопкам.  
Управление на стрелочках. Спорю, что без подсказки не взлетите))  
Нужно удерживать кнопку вверх, быстро отпускать её и нажимать ещё раз. В полёте нужно временно нажать вниз, чтобы немного повысить обтекаемость. И продолжать нажимать вверх с правильным переменным ритмом, который показывает сила взмахов.  
А для доказательства того, что чётко лететь можно всегда, предлагаю зажать Ctrl. Скорость понизится до 10 fps, а на отладочных шкалах будут выделены те, которые отвечают за силу взмаха. Нужно удерживать вверх до тех пор, пока они не сравняются – отпустить и тут же нажать снова.  
О, сюжет бы придумать…

Случайные шахматы:  
[rc]  
Что будет, если белые будут выбирать любой из доступных ходов, а чёрные – сначала выбирают любую случайную фигуру, которая может ходить, а потом – делают ей возможный случайный ход? Взятие имеет приоритет, правила насчёт короля стандартные.  
Shift – ускорить время.  

Ещё одна проверка физики летящего объекта:  
[wd]  
Тут притяжение, ускорение, скорость, подъёмная сила и сопротивление воздуха, конечно же, неправильно подсчитанные. Суть в том, что можно менять свой угол наклона, если он направлен вверх, то ещё и ускорение добавляется (набор высоты, планирование, пикирование). Сверху притяжение сильнее.  
Управлять всего двумя стрелочками вверх и вниз. Стрелять – удержание Ctrl или вправо, снаряды как бы разгоняются траекторией угла атаки, поэтому их можно закидывать по дуге назад. Пробел – сброс уровня.  
Ну вообще цели нет, но я поместил бесполезный сверкающий шарик в самый верхний-правый угол, и его можно попробовать достать…  

Буквенные кроссворды!  
<http://klimaleksus.narod.ru/Files/4/cross.rar>  
В них нужно собирать слово в таблице букв, рисованием ломаных линий. Эта программа поможет составить такой кроссворд, имея форму поля (не обязательно прямоугольное) и список слов. Картинка считывается из файла, как и слова; сама же программа в полуавтоматическом режиме расставляет эти слова по тычку.  
Клик по клетке – выпустить оттуда слово случайным образом. Если плохо легло – можно кликнуть по началу правой, и перестроить; каждый раз выбирается максимальное из слов, которые могут поместиться в данное пространство.  
В принципе, программа не гарантирует, что все слова займут все клетки, но вместо этого даёт статистику, и позволяет выровнять (Pageup/down и стрелочки, в том числе автоматически по Enter) накладываемую сетку по контурам фона. А через Ctrl можно увидеть реальные слова, а не их цветные тени.  

Самолётик…  
[tg]  
Хотелось сделать игру, в которой у самолёта был бы угол, под которым он летит, влиял бы на его вектор направления; и с учётом силы тяги (на самом деле, это ж предшественник «wd»), потребляющей топливо. А при повреждениях у него могли бы выходить из строя различные системы, и их нужно было бы ремонтировать.  
Реализация получилась отвратительной… Пробел – стрелять, Enter – чиниться, стрелочки – наклон и тяга. В игру впихано больше, чем отлажено и доведено до ума.  

Как-то меня зачем-то попросили сделать имитатор казино для проверки чего-то в теории вероятности:  
[cs]  
Там много всего подсчитывается (показываются при наведении), но всё было реализовано неудобно и кучей.  

Мощная игра задумывалась:  
[cd]  
Я видел такой концепт где-то на Spectrum, смысл в том что корабль плавает по карте, а если встречает подлодку, самолёт или другой корабль – экран переключается на мини-игру, в которой нужно победить врага особенным способом.  
А я ещё попробовал сделать так, чтобы заезжая на сушу, корабль мог превратиться в танк, а на взлётную полосу – в самолёт. У всего этого разное оружие и управление.  
Но реализация меня опять не удовлетворила, и я не стал заниматься пустым левел-дизайном, просто бросив игру неоконченной. Оружие меняется на Shift, на пробеле можно уйти в атаку подлодок (там бомбы падают глубину, куда показывает стрелка) или самолётов (там нужно стрелять на Ctrl по самолётам, а прицел показывают конусы четырёх пушек, направляется стрелочками; а уклоняться от атак нужно с удерживанием Shift).  

Однажды для чего-то меня просили сделать имитатор ватсаппа, где на экране был бы неинтерактивный интерфейс открытого мессенджера, в котором можно было бы заранее задать текст входящих и исходящих сообщений:  
<http://klimaleksus.narod.ru/Files/4/wa.rar>  
Это для какой-то сценки а-ля КВН и выводом на проэктор.  
На самом деле, по назначению программу так и не использовали, хотя функционал у меня получился большой, и даже справка есть.  

А вот реализация лотереи, чтобы случайным образом выбрать один шарик:  
<http://klimaleksus.narod.ru/Files/4/rb.rar>  
(с секретной возможностью наоборот сделать так, чтобы выпала нужная последовательность)  

Вот думаю, это тоже что ли выложить:  
<http://klimaleksus.narod.ru/Files/4/mc.rar>  
– заменил оригинальный текст на лорем. Программа принимает шаблон картинки и большой текст, чтобы расположить его на ней и расширить промежутки между буквами так, чтобы пробелы образовали исходный рисунок.  
Делал, можно сказать, в качестве своеобразного подарка (вернее, не саму прогу, а конкретную картинку: <http://klimaleksus.narod.ru/Files/4/mc.png> )  

А вот мои старые-старые игры, и некоторые можно даже сказать, хоть сколько-то удавшиеся: (хотя нет, в мусорку всех!)  
[tm]  
– тут нужно собирать созревшие помидоры (украл чей-то пак ресурсов), в игре нужная поуровневая справка.  

[bk]  
Банка – сверху падают камни, нужно прыгать залезать на них. Кривая игра с бесполезными понтами, а ещё можно прыгать сверху до касания с летящими, и прошибать стоящий камень кнопкой вниз под собой.  
Очки несбалансированны, как и недокументированные эффекты от призов…  

[rf]  
Отражения – нужно гонять шарик в правильном направлении, чтобы собирать призы и не попадаться на бомбы. Жёстко сделано, возможно если замутить нормальный физический движок, то пересоздать идею можно будет.

[rr]  
Рельсы – а тут нужно проехать по железной дороге, запоминая её форму, чтобы собрать максимальное (и минимальное) количество призов.  
Внутренний расчет реализован был как-то рекурсивно, и ещё есть меню, позволяющее задать параметры генерации уровня.  

[tp]  
А тут исходник даже не мой, я его где-то украл. Блин, будь моя реализация чуть получше, годная бы штука вышла!  
Простой платформер, с разными типами стенок. Головоломка! Нужно пропрыгать до конца и не проиграть.  

[md]  
Это кончено не Пэкмен, но просто стилизация такая.  
Идея в том, что нужно собрать по лабиринту боезапас, потом расставить динамиты, а затем – рвануть всё по цепочке, чтобы уничтожить всех врагов!  
А ещё брать и прятать яйца, из которых потом можно ожить при проигрыше.  
Тут меня левел-дизайн скорее подвёл, даже имеющиеся карты настолько сложны, что по-моему даже я их не проходил. И сама игра опять же жестковата.  

[zd]  
Зимний дрифт! Реалистичность физики конечно так себе, но тут нужно проехаться вперёд, огибая препятствия (а линии покажут направление к ним). Разные шкалы на экрана отображают какие-то разны параметры, а при ударе об стенку или препятствие управление машиной меняется и переходит в решим скольжения, где нажатие кнопок действует не сразу, и можно лишь чуть-чуть подруливать.  
В режиме на двух игроков есть оружие (кнопка вниз), которое меняет тип в зависимости от взаимного расположения игроков (а бонус в скорости получает отстающий).  
И есть режим автопилота, когда компьютер сам рулит (и вот как раз эту идею ИИ я и использовал в TunnelFlyer), и даже есть битва с компом отдельным режимом; кнопка вверх – быстрое ускорение с низкой скорости ценой дрифта.  

[ms]  
Сапёр. Хотел сделать так, чтобы первым ходом не открылась не только бомба, но и просто всегда была пустая клетка.  
Хотя нет, с тех пор как я узнал, что на стандартный сапёр в XP есть крутой чит-код, моя реализация стала априори хуже.  

[fs]  
Просто быстрая штука, чтобы «растрясти» стереограмму. Такую, как с сайта <http://hidden-3d.com/>  

[db]  
О-о, а рпг-задумка была-то большой. Биться на Ctrl при пересечении с врагами, магия – на пробел, сменить магию – на Pageup/down (сбалансировано плохо).  

[lv]  
Тугая неинтерактивная реализация игры «жизнь».  

[bl]  
Какая-то неудачная реализация игры наподобие «три в ряд», перетаскивать мышью.  

[pl]  
Украденная идея игры про диспетчера, где нужно перетаскивать самолётики на посадочные полосы, и не давать им врезаться.  
При зажатом Shift их поведение становится очевиднее. Правый щелчок – посадить готовящийся к посадке самолёт.

[dm]  
Какая-то очень старая моя демонстрационная игра, но вышла она уж с очень жёстким управлением. Стрелять на пробел.  

[hc]  
Какой-то хоккей, где нужно запихивать мячик в ворота во время пересечений с ним.  
Там есть даже не только режим для двух игроков, но и мультиплеер, через встроенную в игру мою же обёртку для мультиплеера в Game Maker. Обёртка фиговатая и нелогичная, но на удивление как-то работает.  

[sn]  
Плоходокументированная змейка с тем же модулем мультиплеера, но тоже какая-то грубоватая и не очень.  

[pg]  
Погоня… первоначально – как модификация исходного же образца самого Game Maker. Управление стрелочками. Глупая и нудная игра.  
Вторая версия – уже на мыши, нужно просто удерживать шарик под курсором, а потом и кликать по нему.

[sw]  
Очень неудачная реализация махания световыми мечами: управление стрелочками; двойное нажатие в сторону – полный оборот; удерживание пробела – щит; Ctrl – убрать меч – без него пробел выбрасывает магию, дающую контроль над врагом или стеной, которую она коснётся.  

[gr]  
– это головоломка, когда дано разноцветное поле, нужно пройти по цветам из одной точки в другую, сохраняя всегда одну и ту же последовательность цветом  
Для старта, слева нужно нажать последовательно при кнопки, а потом перетаскивать персонажа мышкой по полю справа (вернее, он сам за мышью следует).  
Странно, но мне хватило самого факта того, что я смог реализовать этот концепт, и такие вещи как улучшение управляемость или адекватность меню меня резко перестали интересовать…  
Любая кнопка на клавиатуре – перезапуск.

Во многих вышевыложенный играх, даже если и написано, что справка есть – на самом деле её нет.  
Если я где-то забыл указать управление – то обычно это стрелочки, Ctrl/Shift/Enter/пробел.  
А ещё я раньше делал такие щедрые начальные экраны, и указывал на них своё авторство.  
Потом, когда стало чуть-чуть стыдно за такие дурацкие реализации, мои копирайты стали более скромненькие и краткие..  
Ну и теперь вот я вообще стараюсь ничего такого не указывать в самих играх, разве что может быть в справке либо даже просто в названии версии в самом ресурсе для .exe  

---

Вдогонку – уже довольно старая моя копипаста:

---

Я манал это MIDI.

Целую неделю убил на то, чтобы закончить клёвую программу, которая, видимо, призвана стать программным синтезатором, умеющим считывать .mid и воспроизводить через колонки (буду называть динамики так, чтобы не путать со спикером) или pc-speaker. Если построить пересечение и разбитие шкалы времени на такие участки, где играет равное количество нот – то их и надо будет выводить на спикер быстрым перебором; иначе – ровной нотой. Для вывода в колонки можно либо так же порезать, либо играть как в оригинале, с любыми объединениями нот.

Потом я упарился с «инструментами» – прямоугольным, пилообразным, треугольным и синусоидальным сигналами. Оказалось, что громкость каждого на слух может сильно отличаться от других, а загуглив конкретно ВО СКОЛЬКО РАЗ, мне выходило разве что «ой-ой, это всё субъективно, ибо даже звуки разной частоты ощущаются с разной громкостью». Но я всё же выбрал примерно некоторые цифры …

А затем выяснилось, что происхождение миди-файлов может быть насколько угодно корявым, и в них может меняться темп воспроизведения, уф! Дело в том, что я не писал свой миди-парсер (несмотря на то, что я хотел просто вытащить массив всех нот с их временами, длительностями, номером инструмента и канала – все остальные события, все-все – меня не интересуют..), потому что понял, что без парсинга ВСЕХ событий там не обойтись; а нашёл готовую реализацию на Delphi. Но оказалось, что в ней игнорируются события изменения темпа и масштаба времени, из-за чего многие файлы воспроизводились неправильно. И когда я попытался сам разобраться со временем, я вконец запарился со структурой формата, где куча формул и условностей, зависящих от кучи всяких параметров.

Нашёл ещё одну реализацию полноценного синтезатора, но она оказалась наоборот же такая большая и сложная, что я не смог вытащить из неё нужную мне часть, а всё вместе у меня компилироваться не хочет.

Короче, я пока ставлю крест на своей идее, потому что от неё меня уже тошнит. Исходник: <http://klimaleksus.narod.ru/Files/4/midi2something.rar> – там полный бардак, куча неиспользуемых функций и закомментированных кусочков. Я это вообще из трёх других программ собрал. По умолчанию он сейчас запущен как софт-синтезатор с несколькими инструментами (там файлик, на котором более-менее нормально воспроизводится). Если изменить константу на строке 806, то включается режим деления на участки с равным количеством нот; хотя у меня такое чувство, что там уже что-то сломалось (этот режим я делал первым, а потом ж значительно менял всё вокруг). Теперь если изменить 720, то воспроизведение переходит к спикеру, но играется только первая соло-нота. Изменив 348 можно получить многоголосый перебор, но добавил я его только что и весьма грубовато (а ведь это чуть ли не основное, что должно работать идеальнее прочего!..)

Может когда-нибудь перепишу эту программу заново (там ещё столько всего планировалось: много опций запуска, затухания и громкости, фильтр и мап каналов и инструментов, поддержка других трекерных форматов, вывод на миди или разные wave-устройства, сохранение в звуковой файл…), если найду как нормально миди распарсить.

Ха, а вот pcstream – другой франкенштейн, к которому я пришёл, когда захотел выяснить, можно ли заставить Windows воспроизводить стандартные звуки через спикер. Всё же элементарно – либо найти заводскую функцию, которой нет; либо указать на миди-файл (и сделать свой виртуальный драйвер миди-устройства…), что тоже невозможно. Тогда я подумал, что это ж можно программой наподобие виртуального аудио-кабеля, перенаправляющей выходное wave устройство (если поставить его по умолчанию – системные звуки тоже пойдёт через него) на другое входное, которое можно считывать (как на запись с микрофона) другой программой, которая уже будет перенаправлять найденные в wave частоты (не-а, таки БЕЗ разложения Фурье) на спикер.

Что, собственно она и делает. Ну анализ там слабенький, со многими предположениями о входном сигнале (нужная громкость, нужная форма, нужный диапазон частот и выравнивание по нулю, равное распределение в положительную и отрицательную амплитуду), то есть «всё подряд» один фиг играть не сможет. Но если заранее формировать wave файлы с синусоидальным сигналом, то по идее она идеально должна переваривать и выдавать чистую ноту (там я ещё привязку к нотнам midi-диапазона сделал, чтобы небольшие отклонения частоты не сразу меняли тональность).

Эту прогу я придумал только что, после вашего письма. Ага, а теперь угадайте, зачем я сейчас стал париться с предыдущей программой. Именно для конвертирования миди в СИНУС для этой.

Ну а к этой нужно ещё добавить выбор входного устройства, и чтение звука из файла (оно там было, но я его уже успел поломать). Но вообще говоря, поиграться с микрофоном можно хоть сейчас ^^ Там, конечно, задержка (как-то я не очень пряморуко с буферами работаю, и таймлаг у меня ещё и копиться в ту или иную сторону – поставил явные условия на пропуск или добавление семплов при отклонении, это же явно как-то неправильно) ощутимая, но это очень прикольно наблюдать, как спикер пытается «повторить» тот звук, который слышит микрофон. У него можно даже ртом ноту издавать. А можно и на колонки чистый синус по нотам пустить, прижав к ним микрофон – вообще чётко играть будет. В прочем, можно замкнуть микрофон на себя, прислонив к спикеру же – и получить самогенерацию. О, чувствительность регулируется в строке 290, это шестнадцатибитное число (порог регистрируемой амплитуды).

---

[Назад](./)
